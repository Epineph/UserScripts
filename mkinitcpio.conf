# vim:set ft=sh
# MODULES
# The following modules are loaded before any boot hooks are
# run.  Advanced users may wish to specify all system modules
# in this array.  For instance:
#     MODULES=(usbhid xhci_hcd)
#MODULES=(dm_mod dm_crypt sd_mod ryzen_smu nvme ext4 ac amdgpu amd_atl ahci acpi_cpufreq processor thermal xhci_hcd i8042 i2c_hid_acpi ccp asus_nb_wmi btusb battery amd64_edac hid_multitouch rapl video)

#MODULES=(ac acpi_cpufreq ahci amd64_edac amd_atl amdgpu asus_nb_wmi atkbd battery btusb button ccp dummy ee1004 efi_pstore ext4 fjes hid_multitouch i2c_hid_acpi i2c_piix4 i8042 joydev k10temp kvm_amd mousedev nvme pcspkr polyval_clmulni processor rapl rtc_cmos ryzen_smu sd_mod serio_raw snd_hda_codec_alc269 snd_hda_codec_atihdmi sp5100_tco thermal tpm_crb uas usb_storage uvcvideo video wmi wmi_bmof xhci_hcd dm_mod dm_crypt)

#MODULES=(processor acpi_cpufreq battery ac ahci amd64_edac amd_atl amdgpu ext4 hid_multitouch nvme rapl ryzen_smu sd_mod usb_storage video xhci_hcd dm_mod dm_crypt)
MODULES=(amd64_edac amd_atl ryzen_smu amdgpu ext4 hid_multitouch nvme sd_mod video processor dm_mod dm_crypt)


# BINARIES
# This setting includes any additional binaries a given user may
# wish into the CPIO image.  This is run last, so it may be used to
# override the actual binaries included by a given hook
# BINARIES are dependency parsed, so you may safely ignore libraries
BINARIES=()

# FILES
# This setting is similar to BINARIES above, however, files are added
# as-is and are not parsed in any way.  This is useful for config files.
FILES=()

# HOOKS
# This is the most important setting in this file.  The HOOKS control the
# modules and scripts added to the image, and what happens at boot time.
# Order is important, and it is recommended that you do not change the
# order in which HOOKS are added.  Run 'mkinitcpio -H <hook name>' for
# help on a given hook.
# 'base' is _required_ unless you know precisely what you are doing.
# 'udev' is _required_ in order to automatically load modules
# 'filesystems' is _required_ unless you specify your fs modules in MODULES
# Examples:

#
##   This setup assembles a mdadm array with an encrypted root file system.
##   Note: See 'mkinitcpio -H mdadm_udev' for more information on RAID devices.
#    HOOKS=(base udev modconf keyboard keymap consolefont block mdadm_udev encrypt filesystems fsck)
#
##   This setup loads an lvm2 volume group.
#    HOOKS=(base udev modconf block lvm2 filesystems fsck)
#
##   This will create a systemd based initramfs which loads an encrypted root filesystem.
#    HOOKS=(base systemd autodetect modconf kms keyboard   block filesystems fsck)
HOOKS=(base systemd autodetect microcode modconf block sd-vconsole sd-encrypt lvm2 filesystems fsck sd-shutdown)

# HOOKS=(base systemd autodetect microcode modconf block acpi_override sd-vconsole sd-encrypt lvm2 filesystems fsck sd-shutdown)

# --- COMPRESSION ---------------#
COMPRESSION="zstd"
COMPRESSION_OPTIONS=("--fast")

